# Stable Diffusion Telegram Bot (Advanced)

Этот проект — расширенный Telegram-бот для генерации изображений с помощью Stable Diffusion через WebUI API.

## Состав проекта

- `bot_advanced.py` — основной бот с поддержкой очереди, клавиатуры и продвинутых функций.
- `config.py` — настройки токена бота, URL SD WebUI и параметры по умолчанию.
- `sd_client.py` — клиент для взаимодействия с API Stable Diffusion WebUI.
- `advanced_features.py` — расширенные функции и состояния FSM для продвинутой генерации.
- `queue_manager.py` — система очереди задач генерации.
- `prompt_enhancer.py` — улучшение промптов и негативных промптов.
- `requirements.txt` — зависимости Python.

## Быстрый старт

1. **Установите зависимости:**

   ```bash
   pip install -r requirements.txt
   ```

2. **Создайте файл `.env`** (или пропишите переменные в `config.py`):
   - `BOT_TOKEN` — токен вашего Telegram-бота
   - `SD_WEBUI_URL` — URL вашего SD WebUI (например, http://127.0.0.1:7860)

3. **Запустите SD WebUI** с включённым API:
   - Обычно: `webui-user.bat --api`

4. **Запустите бота:**

   ```bash
   python bot_advanced.py
   ```

## Использование

- Просто напишите описание изображения боту или используйте кнопки для продвинутых функций.
- Поддерживается очередь задач, отмена, просмотр статуса, выбор модели и сэмплера.

---

**Внимание:**
- Не публикуйте свой токен бота в открытом доступе!
- Для работы требуется установленный и запущенный SD WebUI с API. 
